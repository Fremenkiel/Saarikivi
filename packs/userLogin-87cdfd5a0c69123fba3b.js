(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{23:function(e,n,t){t("dcrq"),t("3yYM"),t("LNcM"),t("HopG"),t("DFMR"),t("9AbT"),t("7sJL"),t("5Zow"),t("M2wf"),t("Zq5a"),t("M9ov"),e.exports=t("Eu5N")},Eu5N:function(e,n,t){"use strict";t.r(n);var o=t("ERkP"),i=t.n(o),a=t("7nmT"),r=t.n(a),c=t("HMZk"),s=t("hwXu"),u=t("s6Qj"),l=t("aWzz"),p=t.n(l),g=t("ySox"),_=t("BPyH"),d=t("b9SK"),f=t("dgk2"),S=t("6lkV"),w=t("7FRX"),E=t("feVc"),L=t("uC0z"),b=t("483K"),O=t("oZMs"),y=t("9ZCR"),v=t("lFsS"),m=t("o6VQ"),C=t("DjLo"),P=t("vUUw"),R=t.n(P);function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],o=!0,i=!1,a=void 0;try{for(var r,c=e[Symbol.iterator]();!(o=(r=c.next()).done)&&(t.push(r.value),!n||t.length!==n);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var k=Object(o.lazy)((function(){return Object(O.a)((function(){return t.e(16).then(t.bind(null,"sLgD"))}))}));function M(e,n){var t=n||Object(m.D)({notification:e});window.location.assign(Object(b.a)()?Object(b.d)(t):t)}var N=function(e){var n=e.initialLoginState,t=e.loginRedirect,a=e.countryCode,r=e.trackingPage,c=j(Object(o.useState)(n),2),s=c[0],l=c[1],p=Object(o.useRef)(s),b=function(e){p.current=e,l(e)},O=!!s,m=Object(o.useRef)(!1);function P(e){!function(e,n,t){var o=e.user,i=e.type,a=S.a.WelcomeNotification;o&&(Object(g.h)({event:g.a.Login,props:{screen:n,type:i}}),M(a,t))}({user:e.user,type:e.type},r,t),Object(y.i)("onLoginSuccess")}function I(e){!function(e,n,t){var o=e.user,i=e.type,a=S.a.SettingsNotification;o&&(Object(g.h)({event:g.a.Signup,props:{screen:n,type:i}}),M(a,t))}({user:e.user,type:e.type},r,t),Object(y.i)("onLoginSuccess")}function N(e){!function(e,n){var t,o=e.flow,i=e.type;o===_.a.Login?t=g.a.Login:o===_.a.Creation&&(t=g.a.Signup),t&&Object(g.h)({event:t,props:{screen:n,type:i}})}({flow:e.flow,type:e.type},r)}function A(){b(L.a.LoginEmail)}function D(e){var n=null==e?void 0:e.trigger;n&&Object(L.b)({step:p.current,event:"Click Close",props:{action:n}}),b(null)}function T(e){D(e),Object(y.i)("onCancel")}Object(o.useEffect)((function(){return Object(y.l)(A),window.addEventListener(w.a,A,!0),function(){Object(y.l)(null),window.removeEventListener(w.a,A,!0)}}),[]),Object(o.useEffect)((function(){s&&!m.current&&(Object(f.d)({api_key:window.__FACEBOOK_API_KEY__}),Object(f.e)({client_id:window.__GOOGLE_PLUS_CLIENT_ID__}),Object(f.c)({clientId:window.__APPLE_CLIENT_ID__}),m.current=!0);var e,n={step:s,event:"Show"};s===L.a.SignupEmail&&(n.props={signup_email_validation:null===(e=Object(E.e)("signup_email_validation"))||void 0===e?void 0:e.id});Object(L.b)(n)}),[s]);var h=Object(u.u)().isDesktop;return i.a.createElement(v.a,null,h?i.a.createElement(C.d,{onClose:T,show:O,className:R.a.desktopBaseModal,closeBtnClassName:R.a.closeBtn,padding:C.b},i.a.createElement(o.Suspense,{fallback:i.a.createElement(d.b,{type:d.a.CIRCLE})},i.a.createElement(k,{loginFlowStep:s,setLoginFlowStep:b,onClose:D,onLoginSuccess:P,onSignupSuccess:I,onMagicLinkSent:N,countryCode:a}))):i.a.createElement(C.d,{onClose:T,show:O,className:R.a.baseModal},i.a.createElement(o.Suspense,{fallback:i.a.createElement(d.b,{type:d.a.CIRCLE})},i.a.createElement(k,{loginFlowStep:s,setLoginFlowStep:b,onClose:D,onLoginSuccess:P,onSignupSuccess:I,onMagicLinkSent:N,countryCode:a}))))};N.propTypes={initialLoginState:p.a.string,loginRedirect:p.a.string,countryCode:p.a.string,trackingPage:p.a.string};var A,D=N;(A=document.getElementById("user-login"))&&r.a.render(i.a.createElement(s.a,null,i.a.createElement(c.b,{user:window.__PRELOADED_SIGNED_IN_USER__},i.a.createElement(D,{initialLoginState:window.__PRELOADED_LOGIN_STATE__,loginRedirect:window.__PRELOADED_REDIRECT_AFTER_LOGIN__,countryCode:window.__PRELOADED_COUNTRY_CODE__,trackingPage:window.__PRELOADED_TRACKING_SCREEN_NAME__}))),A)},uC0z:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return s}));var o,i,a=t("ySox");function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}!function(e){e.LoginEmail="LOGIN_TYPE_EMAIL",e.LoginPassword="LOGIN_TYPE_PASSWORD",e.ForgotPassword="FORGOT_PASSWORD",e.ResetPassword="RESET_PASSWORD",e.LoginMagicLinkSent="LOGIN_MAGIC_LINK_SENT",e.SignupMagicLinkSent="REGISTRATION_MAGIC_LINK_SENT",e.SignupEmail="SIGNUP_TYPE_EMAIL",e.SignupForm="SIGNUP_FORM"}(i||(i={}));var c=(r(o={},i.LoginEmail,{flow:a.a.Login,step:"Email Step"}),r(o,i.LoginPassword,{flow:a.a.Login,step:"Password Step"}),r(o,i.ForgotPassword,{flow:a.a.Login,step:"Forgot Password"}),r(o,i.ResetPassword,{flow:a.a.Login,step:"Password Reset"}),r(o,i.LoginMagicLinkSent,{flow:a.a.Login,step:"Magic Link Step"}),r(o,i.SignupMagicLinkSent,{flow:a.a.Signup,step:"Magic Link Step"}),r(o,i.SignupEmail,{flow:a.a.Signup,step:"Email Step"}),r(o,i.SignupForm,{flow:a.a.Signup,step:"Password Step"}),o),s=function(e){var n=e.step,t=e.event,o=e.props,i=c[n];i&&Object(a.f)({screen:i.flow,event:"".concat(i.step," - ").concat(t),props:o})}},vUUw:function(e,n,t){e.exports={desktopBaseModal:"userLogin__desktopBaseModal--PFCL8",closeBtn:"userLogin__closeBtn--11vW1",baseModal:"userLogin__baseModal--Ywu0I","opaque-background":"userLogin__opaque-background--1SiCv",opaqueBackground:"userLogin__opaque-background--1SiCv"}}},[[23,0,1,2]],[16]]);
//# sourceMappingURL=userLogin-87cdfd5a0c69123fba3b.js.map